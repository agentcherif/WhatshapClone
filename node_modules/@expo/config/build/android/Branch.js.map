{"version":3,"file":"Branch.js","sourceRoot":"","sources":["../../src/android/Branch.ts"],"names":[],"mappings":";;AACA,yCAKoB;AAEpB,SAAgB,eAAe,CAAC,MAAkB;;IAChD,+BAAO,MAAM,CAAC,OAAO,0CAAE,MAAM,0CAAE,MAAM,0CAAE,MAAM,mCAAI,IAAI,CAAC;AACxD,CAAC;AAFD,0CAEC;AAEM,KAAK,UAAU,eAAe,CAAC,MAAkB,EAAE,gBAA0B;IAClF,MAAM,MAAM,GAAG,eAAe,CAAC,MAAM,CAAC,CAAC;IAEvC,MAAM,eAAe,GAAG,6BAAkB,CAAC,gBAAgB,CAAC,CAAC;IAE7D,IAAI,MAAM,EAAE;QACV,kCAAkC;QAClC,2CAAgC,CAAC,eAAe,EAAE,yBAAyB,EAAE,MAAM,CAAC,CAAC;KACtF;SAAM;QACL,2BAA2B;QAC3B,gDAAqC,CAAC,eAAe,EAAE,yBAAyB,CAAC,CAAC;KACnF;IACD,OAAO,gBAAgB,CAAC;AAC1B,CAAC;AAbD,0CAaC","sourcesContent":["import { ExpoConfig } from '../Config.types';\nimport {\n  addMetaDataItemToMainApplication,\n  Document,\n  getMainApplication,\n  removeMetaDataItemFromMainApplication,\n} from './Manifest';\n\nexport function getBranchApiKey(config: ExpoConfig) {\n  return config.android?.config?.branch?.apiKey ?? null;\n}\n\nexport async function setBranchApiKey(config: ExpoConfig, manifestDocument: Document) {\n  const apiKey = getBranchApiKey(config);\n\n  const mainApplication = getMainApplication(manifestDocument);\n\n  if (apiKey) {\n    // If the item exists, add it back\n    addMetaDataItemToMainApplication(mainApplication, 'io.branch.sdk.BranchKey', apiKey);\n  } else {\n    // Remove any existing item\n    removeMetaDataItemFromMainApplication(mainApplication, 'io.branch.sdk.BranchKey');\n  }\n  return manifestDocument;\n}\n"]}